<!doctype html>
<html lang="en-us">
  <head>
    <title>Implementing py-package-template // Engineer Dancun</title>
    <link rel="shortcut icon" href="/favicon.ico" />
    <meta charset="utf-8" />
    <meta name="generator" content="Hugo 0.68.3" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="Dancun Manyinsa" />
    <meta name="description" content="" />
    <link rel="stylesheet" href="https://devopsengineerdan.github.io/css/main.min.d5ed8558bcfb3aab1e3d1790fb902decbac1f989a0d27aa3b2a2320773186707.css" />
    
    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Implementing py-package-template"/>
<meta name="twitter:description" content="Python Package Template Project  
The py-template-project package allows users to download the contents of this GiHub repository, containing a skeleton Python package project to be used as a template for kick-starting development of any type of Package; destined for upload to PyPI, or just for local install using Pip. The downloaded package includes the following components to aid rapid development without having to spend time cloning existing set-ups from other projects:"/>

    <meta property="og:title" content="Implementing py-package-template" />
<meta property="og:description" content="Python Package Template Project  
The py-template-project package allows users to download the contents of this GiHub repository, containing a skeleton Python package project to be used as a template for kick-starting development of any type of Package; destined for upload to PyPI, or just for local install using Pip. The downloaded package includes the following components to aid rapid development without having to spend time cloning existing set-ups from other projects:" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://devopsengineerdan.github.io/posts/py-package-template/" />
<meta property="article:published_time" content="2020-09-13T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-09-13T00:00:00+00:00" />

  </head>
  <body>
    <header class="app-header">
      <a href="https://devopsengineerdan.github.io"><img class="app-header-avatar" src="/avatar.jpg" alt="Dancun Manyinsa" /></a>
      <h1>Engineer Dancun</h1>
      <nav class="app-header-menu">
          <a class="app-header-menu-item" href="/">Home</a>
             - 
          
          <a class="app-header-menu-item" href="/tags/">Tags</a>
             - 
          
          <a class="app-header-menu-item" href="/about/">About</a>
      </nav>
      <p>Software Engineer, Researcher(AI and Quantum Science), and Habitual Quant</p>
      <div class="app-header-social">
        
          <a href="https://www.github.com/DancunManyinsa" target="_blank" rel="noreferrer noopener">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-github">
  <title>Github</title>
  <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
</svg>
          </a>
        
          <a href="https://www.linkedin.com/in/dancun-manyinsa-42518a17b/" target="_blank" rel="noreferrer noopener">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-linkedin">
  <title>Linkedin</title>
  <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle>
</svg>
          </a>
        
          <a href="mailto:dancunmoruri@gmail.com" target="_blank" rel="noreferrer noopener">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-link">
  <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path>
  <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
</svg>
          </a>
        
      </div>
    </header>
    <main class="app-container">
      
  <article class="post">
    <header class="post-header">
      <h1 class ="post-title">Implementing py-package-template</h1>
      <div class="post-meta">
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar">
  <title>calendar</title>
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>
</svg>
          Sep 13, 2020
        </div>
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock">
  <title>clock</title>
  <circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>
</svg>
          9 min read
        </div>
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tag">
  <title>tag</title>
  <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line>
</svg>
              <a class="tag" href="https://devopsengineerdan.github.io/tags/python/">python</a>
        </div>
      </div>
    </header>
    <div class="post-content">
      <hr>
<h1 id="python-package-template-project">Python Package Template Project</h1>
<p><a href="https://pypi.org/project/py-package-template/"><img src="https://img.shields.io/pypi/v/py-package-template.svg" alt="image"></a>
<a href="https://travis-ci.org/AlexIoannides/py-package-template"><img src="https://travis-ci.org/AlexIoannides/py-package-template.svg?branch=master" alt="Build Status"></a></p>
<p>The py-template-project package allows users to download the contents of this <a href="https://github.com/AlexIoannides/py-package-template">GiHub repository</a>,  containing a skeleton Python package project to be used as a template for kick-starting development of <strong>any</strong> type of Package; destined for upload to PyPI, or just for local install using Pip. The downloaded package includes the following components to aid rapid development without having to spend time cloning existing set-ups from other projects:</p>
<ul>
<li>a minimal <code>setup.py</code> file;</li>
<li>testing with PyTest;</li>
<li>documentation (HTML and PDF) generated using Sphinx with auto-documentation setup;</li>
<li>an entry-point that allows the package to execute functions directly from the command line - e.g. to start a server, interact with a user, download a GitHub repository, etc.; and,</li>
<li>automated testing and deployment using Travis CI.</li>
</ul>
<p>A description of how to work with (and modify) each of these components, is provided in more detail in the sections that follow-on below, as well as in the documentation and within the example code bundled with the package.</p>
<p>This is obviously a opinionated view of how a Python package project ought to be structured, based largely on my own experiences and requirements. Where I have needed guidance on this subject, I have leant heavily on the advice given by the <a href="https://packaging.python.org/guides/distributing-packages-using-setuptools/">Python Packaging Authority (PyPA)</a> and used the excellent <a href="https://github.com/requests/requests">Requests</a> and <a href="https://github.com/pallets/flask">Flask</a> projects as references for &lsquo;best practices&rsquo;.</p>
<h2 id="installing">Installing</h2>
<p>Install and update using <a href="https://pip.pypa.io/en/stable/quickstart/">pip</a>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-s" data-lang="s"><span style="color:#f92672">$</span> pip3 install py<span style="color:#f92672">-</span>template<span style="color:#f92672">-</span>project
</code></pre></div><h2 id="downloading-a-python-package-template-project">Downloading a Python Package Template Project</h2>
<p>To down load the latest version of the Python Package Template project located in <a href="https://github.com/AlexIoannides/py-package-template">this GiHub repository</a>, execute the following command from the command line:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-s" data-lang="s"><span style="color:#f92672">$</span> py<span style="color:#f92672">-</span>package<span style="color:#f92672">-</span>template install
</code></pre></div><p>This will be downloaded to the current directory and will contain the following directory structure:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-s" data-lang="s">py<span style="color:#f92672">-</span>package<span style="color:#f92672">-</span>tempate<span style="color:#f92672">/</span>
 <span style="color:#f92672">|--</span> docs<span style="color:#f92672">/</span>
 <span style="color:#f92672">|--</span> <span style="color:#f92672">|--</span> build_html<span style="color:#f92672">/</span>
 <span style="color:#f92672">|--</span> <span style="color:#f92672">|--</span> build_latex<span style="color:#f92672">/</span>
 <span style="color:#f92672">|--</span> <span style="color:#f92672">|--</span> source<span style="color:#f92672">/</span>
 <span style="color:#f92672">|--</span> py<span style="color:#f92672">-</span>pkg<span style="color:#f92672">/</span>
 <span style="color:#f92672">|--</span> <span style="color:#f92672">|--</span> __init__.py
 <span style="color:#f92672">|--</span> <span style="color:#f92672">|--</span> __version__.py
 <span style="color:#f92672">|--</span> <span style="color:#f92672">|--</span> curves.py
 <span style="color:#f92672">|--</span> <span style="color:#f92672">|--</span> entry_points.py
 <span style="color:#f92672">|--</span> tests<span style="color:#f92672">/</span>
 <span style="color:#f92672">|--</span> <span style="color:#f92672">|--</span> test_data<span style="color:#f92672">/</span>
 <span style="color:#f92672">|--</span> <span style="color:#f92672">|</span>   <span style="color:#f92672">|--</span> supply_demand_data.json
 <span style="color:#f92672">|--</span> <span style="color:#f92672">|</span>   __init__.py
 <span style="color:#f92672">|--</span> <span style="color:#f92672">|</span>   conftest.py
 <span style="color:#f92672">|--</span> <span style="color:#f92672">|</span>   test_curves.py
 <span style="color:#f92672">|--</span> .env
 <span style="color:#f92672">|--</span> .gitignore
 <span style="color:#f92672">|--</span> Pipfile
 <span style="color:#f92672">|--</span> Pipfile.lock
 <span style="color:#f92672">|--</span> README.md
 <span style="color:#f92672">|--</span> setup.py
</code></pre></div><h2 id="the-python-package-template-project">The Python Package Template Project</h2>
<p>We now describe the various components of the template project and the workflows associated with it. The template package project contains two modules to get things started:</p>
<ul>
<li><code>curves.py</code></li>
<li><code>entry_points.py</code></li>
</ul>
<p>The <code>curves.py</code> module contains sample code for modelling economic supply and demand curves and makes for a useful demonstration of how Python type annotation and interface definition via abstract base classes, can make code easier to read, document and reason about (I am a big fan). The test suite for this module is contained in the <code>tests</code> folder and demonstrates how to get up-and-running with PyTest.</p>
<p>The <code>entry_points.py</code> module is referenced in the <code>setup.py</code> file via the <code>entry_points</code> definitions:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-s" data-lang="s">entry_points<span style="color:#f92672">=</span>{
    <span style="color:#e6db74">&#39;console_scripts&#39;</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#39;py-package-template=py_pkg.entry_points:main&#39;</span>],
}
</code></pre></div><p>It enables the declared entry point - <code>py_pkg.entry_points.main</code> -  to be invoked when <code>py-package-template</code> is called from the command line. This is what enables the template project to be downloaded programmatically (check the code for the full details). This could easily be extended to start a server (e.g. using Flask), or run any other type of script.</p>
<h3 id="project-dependencies">Project Dependencies</h3>
<p>We use <a href="https://docs.pipenv.org">pipenv</a> for managing project dependencies and Python environments (i.e. virtual environments). These dependencies are <strong>not</strong> to be confused with the package installation dependencies for the package under developement - i.e. those that need to be defined in the <code>install_requires</code> section of <code>setup.py</code>. All of the direct packages dependencies required to run the project&rsquo;s code (e.g. NumPy for tensors), as well as all the packages used during development (e.g. flake8 for code linting and IPython for interactive console sessions), are described in the <code>Pipfile</code>. Their precise downstream dependencies are crystallised in <code>Pipfile.lock</code>, which is used to guarentee repeatable (i.e. deterministic) builds.</p>
<h4 id="installing-pipenv">Installing Pipenv</h4>
<p>To get started with Pipenv, first of all download it - assuming that there is a &lsquo;global&rsquo; version of Python available on your system and on the PATH, then this can be achieved by running the following command,</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-s" data-lang="s"><span style="color:#f92672">$</span> pip3 install pipenv
</code></pre></div><p>For more information, including advanced configuration options, see the <a href="https://docs.pipenv.org">official pipenv documentation</a>.</p>
<h4 id="installing-this-projects-dependencies">Installing this Projects&rsquo; Dependencies</h4>
<p>Make sure that you&rsquo;re in the project&rsquo;s root directory (the same one in which <code>Pipfile</code> resides), and then run,</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-s" data-lang="s"><span style="color:#f92672">$</span> pipenv install <span style="color:#f92672">--</span>dev
</code></pre></div><p>This will install all of the direct project dependencies as well as the development dependencies (the latter a consequence of the <code>--dev</code> flag). To add and remove dependencies as required for your new project, use <code>pipenv install</code> and <code>pipenv uninstall</code> as required, using the <code>--dev</code> flag for development-only dependencies.</p>
<h4 id="running-python-and-ipython-from-the-projects-virtual-environment">Running Python and IPython from the Project&rsquo;s Virtual Environment</h4>
<p>In order to open a Python REPL using within an environment that precisely mimics the one the project is being developed with, use Pipenv from the command line as follows,</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-s" data-lang="s"><span style="color:#f92672">$</span> pipenv run python3
</code></pre></div><p>The <code>python3</code> command could just as well be <code>ipython3</code>.</p>
<h4 id="automatic-loading-of-environment-variables">Automatic Loading of Environment Variables</h4>
<p>Pipenv will automatically pick-up and load any environment variables declared in the <code>.env</code> file, located in the package&rsquo;s root directory. For example, adding,</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-s" data-lang="s">SPARK_HOME<span style="color:#f92672">=</span>applications<span style="color:#f92672">/</span>spark<span style="color:#ae81ff">-2.3.1</span><span style="color:#f92672">/</span>bin
</code></pre></div><p>Will enable access to this variable within any Python program, via a call to <code>os.environ['SPARK_HOME']</code>. Note, that if any security credentials are placed here, then this file <strong>must</strong> be removed from source control - i.e. add <code>.env</code> to the <code>.gitignore</code> file to prevent potential security risks.</p>
<h4 id="pipenv-shells">Pipenv Shells</h4>
<p>Prepending <code>pipenv</code> to every command you want to run within the context of your Pipenv-managed virtual environment, can get (very) tedious. This can be avoided by entering into a Pipenv-managed shell,</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-s" data-lang="s"><span style="color:#f92672">$</span> pipenv shell
</code></pre></div><p>Which is equivalent to &lsquo;activating&rsquo; the virtual environment. Any command will now be executed within the virtual environment. Use <code>exit</code> to leave the shell session.</p>
<h3 id="running-unit-tests">Running Unit Tests</h3>
<p>All test have been written using the <a href="https://docs.pytest.org/en/latest/">PyTest</a> package. Tests are kept in the <code>tests</code> folder and can be run from the command line by - e.g. by invoking,</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-s" data-lang="s"><span style="color:#f92672">$</span> pipenv run pytest
</code></pre></div><p>The test suite is structured as an independent Python package as follows:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-s" data-lang="s">tests<span style="color:#f92672">/</span>
 <span style="color:#f92672">|--</span> test_data<span style="color:#f92672">/</span>
 <span style="color:#f92672">|</span>   <span style="color:#f92672">|--</span> supply_demand_data.json
 <span style="color:#f92672">|</span>   __init__.py
 <span style="color:#f92672">|</span>   conftest.py
 <span style="color:#f92672">|</span>   test_curves.py
</code></pre></div><p>The <code>conftest.py</code> module is used by PyTest - in this particular instance for loading test data and building objects that will then be used by potentially many other tests. These are referred to as &lsquo;fixtures&rsquo; in PyTest - more details can be found <a href="https://docs.pytest.org/en/latest/fixture.html">here</a>.</p>
<h3 id="linting-code">Linting Code</h3>
<p>I prefer to use <a href="http://flake8.pycqa.org/en/latest/">flake8</a> for style guide enforcement. This can be invoked from the command line by running,</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-s" data-lang="s"><span style="color:#f92672">$</span> pipenv run flake8 py_pkg
</code></pre></div><p>Flake8 could easily be swapped-out for another tool by using Pipenv as described above.</p>
<h3 id="static-type-checking">Static Type Checking</h3>
<p>We have used the Python type annotation framework, together with the <a href="http://mypy-lang.org">MyPy package</a>, to perform static type checks on the codebase. Analogous to any linter or unit testing framework, MyPy can be run from the command line as follows,</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-s" data-lang="s"><span style="color:#f92672">$</span> pipenv run python <span style="color:#f92672">-</span>m mypy py_pkg<span style="color:#f92672">/*</span>.py
</code></pre></div><p>MyPy options for this project can be defined in the <code>mypy.ini</code> file that MyPy will look for by default. For more information on the full set of options, see the <a href="https://mypy.readthedocs.io/en/stable/config_file.html">mypy documentation</a>.</p>
<p>Examples of type annotation and type checking for library development can be found in the <code>py_pkg.curves.py</code> module. This should also be cross-referenced with the improvement to readability (and usability) that this has on package documentation.</p>
<h3 id="documentation">Documentation</h3>
<p>The documentation in the <code>docs</code> folder has been built using <a href="http://www.sphinx-doc.org">Sphinx</a>. We have used the default &lsquo;quickstart&rsquo; automatic configuration, which was originally triggered by executing,</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-s" data-lang="s"><span style="color:#f92672">$</span> pipenv run sphinx<span style="color:#f92672">-</span>quickstart
</code></pre></div><p>The output is based primarily on the Docstrings in the source code, using the <code>autodoc</code> extension within Sphinx (specified during the &lsquo;quickstart&rsquo;). The contents for the entry point into the docs (<code>index.html</code>), is defined in the <code>index.rst</code> file, which itself imports the <code>modules.rst</code> file that lists all of the modules to document. The documentation can be built by running the following command,</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-s" data-lang="s"><span style="color:#f92672">$</span> pipenv run sphinx<span style="color:#f92672">-</span>build <span style="color:#f92672">-</span>b html docs<span style="color:#f92672">/</span>source docs<span style="color:#f92672">/</span>build_html
</code></pre></div><p>The resulting HTML documentation can be accessed by opening <code>docs/build_html/index.html</code> in a web browser.</p>
<p>My preferred third party theme from <a href="https://readthedocs.org">Read the Docs</a> has also been used, by installing the <code>sphinx_rtd_theme</code> as a development dependency and modifying <code>docs/source/config.py</code> as follows:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> sphinx_rtd_theme
html_theme <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;sphinx_rtd_theme&#34;</span>
html_theme_path <span style="color:#f92672">=</span> [sphinx_rtd_theme<span style="color:#f92672">.</span>get_html_theme_path()]
</code></pre></div><h4 id="creating-a-pdf-version-using-latex">Creating a PDF Version Using LaTeX</h4>
<p>So long as a LaTex distribution is present on your system (e.g. MikTeX for Mac OS X), then it is possible to create a PDF version of the documentation, as well. Start by building the prerequisite LaTex version from the ReStructured Text originals,</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-s" data-lang="s"><span style="color:#f92672">$</span> pipenv run sphinx<span style="color:#f92672">-</span>build <span style="color:#f92672">-</span>b latex docs<span style="color:#f92672">/</span>source docs<span style="color:#f92672">/</span>build_latex
</code></pre></div><p>Then, navigate to <code>docs/build_latex</code> and run,</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-s" data-lang="s"><span style="color:#f92672">$</span> make
</code></pre></div><p>Both LaTeX and PDF versions can then be found in <code>docs/build_latex</code>.</p>
<h3 id="building-deployable-distributions">Building Deployable Distributions</h3>
<p>The recommended (and most pragmatic) way of deploy this package is to build a Python <a href="https://wheel.readthedocs.io/en/stable/">wheel</a> and to then to install it in a fresh virtual environment on the target system. The exact build configuration is determined by the parameters in <code>setup.py</code>. Note, that this requires that all package dependencies also be specified in the <code>install_requires</code> declaration in <code>setup.py</code>, <strong>regardless</strong> of their entry in <code>Pipfile</code>. For more information on Python packaging refer to the <a href="https://packaging.python.org">Python Packaging User Guide</a> and the accompanying <a href="https://github.com/pypa/sampleproject">sample project</a>. To create the Python wheel run,</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-s" data-lang="s"><span style="color:#f92672">$</span> pipenv run python setup.py bdist_wheel
</code></pre></div><p>This will create <code>build</code>, <code>py_package_template.egg-info</code> and <code>dist</code> directories - the wheel can be found in the latter. This needs to be copied to the target system (which we are assuming has Python and Pipenv available as a minimum), where it can be installed into a new virtual environment, together with all downstream dependencies, using,</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-s" data-lang="s"><span style="color:#f92672">$</span> pipenv install path<span style="color:#f92672">/</span>to<span style="color:#f92672">/</span>your<span style="color:#f92672">-</span>package.whl
</code></pre></div><h3 id="automated-testing-and-deployment-using-travis-ci">Automated Testing and Deployment using Travis CI</h3>
<p>We have chosen Travis for Continuous Integration (CI) as it integrates very easily with Python and GitHub (where I have granted it access to my public repositories). The configuration details are kept in the <code>.travis.yaml</code> file in the root directory:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#66d9ef">ncsudo</span>: required

<span style="color:#66d9ef">language</span>: python

<span style="color:#66d9ef">python</span>:
  - <span style="color:#ae81ff">3.7</span>-dev

<span style="color:#66d9ef">install</span>:
  - pip install pipenv
  - pipenv install --dev

<span style="color:#66d9ef">script</span>:
  - pipenv run pytest

<span style="color:#66d9ef">deploy</span>:
  <span style="color:#66d9ef">provider</span>: pypi
  <span style="color:#66d9ef">user</span>: alexioannides
  <span style="color:#66d9ef">password</span>:
    <span style="color:#66d9ef">secure</span>: my-encrypted-pypi-password
  <span style="color:#66d9ef">on</span>:
    <span style="color:#66d9ef">tags</span>: <span style="color:#66d9ef">true</span>
  <span style="color:#66d9ef">distributions</span>: bdist_wheel
</code></pre></div><p>Briefly, this instructs the Travis build server to:</p>
<ol>
<li>download, build and install Python 3.7;</li>
<li>install Pipenv</li>
<li>use Pipenv and <code>Pipfile.lock</code> to install <strong>all</strong> dependencies (dev dependencies are necessary for running PyTest);</li>
<li>run all unit tests using PyTest;</li>
<li>if the tests were run successfully and if we have pushed a new tag (i.e. a release) to the master branch then:
<ul>
<li>build a Python wheel; and,</li>
<li>push it to PyPI.org using my PyPI account credentials.</li>
</ul>
</li>
</ol>
<p>Note that we provide Travis with an encrypted password, that was made using the Travis command line tool (downloaded using HomeBrew on OS X). For more details on this and PyPI deployment more generally see the <a href="https://docs.travis-ci.com/user/deployment/pypi/#stq=&amp;stp=0">Travis CI documentation</a>.</p>

    </div>
    <div class="post-footer">
      
    </div>
  </article>

      <div>
        <br>
        <div>
          <h5 class="title is-small">Share to social media</h5>
          <div>
            <a class="share share-network-twitter" style="background-color:#008080;"><i class="fab fah fa-lg fa-twitter"></i><span>Twitter</span></a>
            <a class="share share-network-facebook" style="background-color:#1877f2;"><i class="fab fah fa-lg fa-facebook-f"></i><span>Facebook</span></a>
            <a class="share share-network-linkedin" style="background-color:#2B1B17;"><i class="fab fah fa-lg fa-linkedin"></i><span>LinkedIn</span></a>
            <a class="share share-network-hackernews" style="background-color:#008000"><i class="fab fah fa-lg fa-hacker-news"></i><span>HackerNews</span></a>
            <a class="share share-network-pinterest" style="background-color:#bd081c;"><i class="fab fah fa-lg fa-pinterest"></i><span>Pinterest</span></a>
            <a class="share share-network-pocket" style="background-color:#7F38EC;"><i class="fab fah fa-lg fa-get-pocket"></i><span>Pocket</span></a>
            <a class="share share-network-email" style="background-color:#333333;"><i class="far fah fa-lg fa-envelope"></i><span>Email</span></a>
            <a class="share share-network-flipboard" style="background-color: #837E7C;"><i class="fab fah fa-lg fa-flipboard"></i><span>Flipboard</span></a>
            <a class="share share-network-quora" style="background-color:#808000;"><i class="fab fah fa-lg fa-quora"></i><span>Quora</span></a>
            <a class="share share-network-reddit" style="background-color: #581845
            ;"><i class="fab fah fa-lg fa-reddit-alien"></i><span>Reddit</span></a>
            <a class="share share-network-telegram" style="background-color:#000080;"><i class="fab fah fa-lg fa-telegram-plane"></i><span>Telegram</span></a>
            <a class="share share-network-whatsapp" style="background-color:#E55451;"><i class="fab fah fa-lg fa-whatsapp"></i><span>Whatsapp</span></a>
            <a class="share share-network-sms" style="background-color:#513B1C;"><i class="far fah fa-lg fa-comment-dots"></i><span>SMS</span></a>
          </div>
        </div>
      </div>
      <div class="comments">
        <div id="disqus_thread" pageConfig="[object Object]"></div>
      </div>
      
      <div id="disqus_thread"></div>
      <script>
          

          

          (function() { 
          var d = document, s = d.createElement('script');
          s.src = 'https://engineer-dancun-personal-blog.disqus.com/embed.js';
          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
          })();
      </script>
      <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
      
      <br><br><br>
      <footer>
        &copy;  
        Powered by <a href="https://github.com/gohugoio/hugo" target="_blank">Hugo
      </footer>
      <script type="application/ld+json">
        {
          "@context" : "http://schema.org",
          "@type" : "Blog",
          "name": " Engineer Dancun ",
          "url" : "https://devopsengineerdan.github.io",
          "image": "./static/avatar.jpg",
          "description": "Software Engineer and Researcher"
        }
        </script>
        <script id="dsq-count-scr" src="//engineer-dancun.disqus.com/count.js" async></script>
    </main>
  </body>
</html>
